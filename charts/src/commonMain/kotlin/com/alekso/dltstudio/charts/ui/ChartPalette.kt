package com.alekso.dltstudio.charts.ui

import androidx.compose.ui.graphics.Color
import kotlin.random.Random
import kotlin.random.nextInt

object ChartPalette {
    val light = mutableListOf<Color>()
    val dark = mutableListOf<Color>()

    val lightPalette = mutableListOf(
        Color(0xFFFF0000),
        Color(0xFF00FF00),
        Color(0xFF0000FF),
        Color(0xFFFFFF00),
        Color(0xFFFF00FF),
        Color(0xFF00FFFF),
        Color(0xFF800000),
        Color(0xFF008000),
        Color(0xFF000080),
        Color(0xFF808000),
        Color(0xFF800080),
        Color(0xFF008080),
        Color(0xFFC0C0C0),
        Color(0xFF808080),
        Color(0xFF9999FF),
        Color(0xFF993366),
        Color(0xFFFFFFCC),
        Color(0xFFCCFFFF),
        Color(0xFF660066),
        Color(0xFFFF8080),
        Color(0xFF0066CC),
        Color(0xFFCCCCFF),
        Color(0xFF000080),
        Color(0xFFFF00FF),
        Color(0xFFFFFF00),
        Color(0xFF00FFFF),
        Color(0xFF800080),
        Color(0xFF800000),
        Color(0xFF008080),
        Color(0xFF0000FF),
        Color(0xFF00CCFF),
        Color(0xFFCCFFFF),
        Color(0xFFCCFFCC),
        Color(0xFFFFFF99),
        Color(0xFF99CCFF),
        Color(0xFFFF99CC),
        Color(0xFFCC99FF),
        Color(0xFFFFCC99),
        Color(0xFF3366FF),
        Color(0xFF33CCCC),
        Color(0xFF99CC00),
        Color(0xFFFFCC00),
        Color(0xFFFF9900),
        Color(0xFFFF6600),
        Color(0xFF666699),
        Color(0xFF969696),
        Color(0xFF003366),
        Color(0xFF339966),
        Color(0xFF003300),
        Color(0xFF333300),
        Color(0xFF993300),
        Color(0xFF993366),
        Color(0xFF333399),
        Color(0xFF333333),
        Color(0xFF000000),
        Color(0xFFFFE4E1),
        Color(0xFFF0FFF0),
        Color(0xFFF5F5DC),
        Color(0xFFE6E6FA),
        Color(0xFFF0FFFF),
        Color(0xFFFAF0E6),
        Color(0xFFFFFAFA),
        Color(0xFFFDF5E6),
        Color(0xFFFFF5EE),
        Color(0xFFFAEBD7),
        Color(0xFFF5FFFA),
        Color(0xFFF0F8FF),
        Color(0xFFFFF0F5),
        Color(0xFFF5F5F5),
        Color(0xFFDCDCDC),
        Color(0xFFC8C8C8),
        Color(0xFFA9A9A9),
        Color(0xFF778899),
        Color(0xFF708090),
        Color(0xFF2F4F4F),
        Color(0xFF696969),
        Color(0xFFB0C4DE),
        Color(0xFFADD8E6),
        Color(0xFF87CEEB),
        Color(0xFF87CEFA),
        Color(0xFF4682B4),
        Color(0xFF5F9EA0),
        Color(0xFF6495ED),
        Color(0xFF7B68EE),
        Color(0xFF6A5ACD),
        Color(0xFF483D8B),
        Color(0xFF4169E1),
        Color(0xFF00008B),
        Color(0xFF000080),
        Color(0xFF191970),
        Color(0xFF8A2BE2),
        Color(0xFF9370DB),
        Color(0xFF9932CC),
        Color(0xFFBA55D3),
        Color(0xFFDA70D6),
        Color(0xFFE6E6FA),
        Color(0xFFD8BFD8),
        Color(0xFFDDA0DD),
        Color(0xFFEE82EE),
        Color(0xFFFF00FF)
    )

    val darkPalette = listOf(
        Color(0xFF1B1B1B),
        Color(0xFF2C3E50),
        Color(0xFF34495E),
        Color(0xFF22313F),
        Color(0xFF2C2C2C),
        Color(0xFF3E3E3E),
        Color(0xFF4B4B4B),
        Color(0xFF5C5C5C),
        Color(0xFF1C1C1C),
        Color(0xFF222222),
        Color(0xFF121212),
        Color(0xFF2F2F2F),
        Color(0xFF3B3B3B),
        Color(0xFF404040),
        Color(0xFF1A1A1A),
        Color(0xFF242424),
        Color(0xFF333333),
        Color(0xFF191919),
        Color(0xFF2E2E2E),
        Color(0xFF292929),
        Color(0xFF1E1E1E),
        Color(0xFF3A3A3A),
        Color(0xFF262626),
        Color(0xFF353535),
        Color(0xFF111111),
        Color(0xFF171717),
        Color(0xFF0F0F0F),
        Color(0xFF282828),
        Color(0xFF383838),
        Color(0xFF464646),
        Color(0xFF1D1D1D),
        Color(0xFF313131),
        Color(0xFF2A2A2A),
        Color(0xFF3D3D3D),
        Color(0xFF484848),
        Color(0xFF1F1F1F),
        Color(0xFF202020),
        Color(0xFF232323),
        Color(0xFF2B2B2B),
        Color(0xFF363636),
        Color(0xFF404040),
        Color(0xFF454545),
        Color(0xFF393939),
        Color(0xFF4A4A4A),
        Color(0xFF1C1E22),
        Color(0xFF2B2D30),
        Color(0xFF34373B),
        Color(0xFF414141),
        Color(0xFF202225),
        Color(0xFF26282B),
        Color(0xFF303337),
        Color(0xFF383A3D),
        Color(0xFF17181B),
        Color(0xFF1F2022),
        Color(0xFF26272A),
        Color(0xFF2E2F32),
        Color(0xFF35373A),
        Color(0xFF3C3E41),
        Color(0xFF101010),
        Color(0xFF181818),
        Color(0xFF202020),
        Color(0xFF282828),
        Color(0xFF303030),
        Color(0xFF383838),
        Color(0xFF404040),
        Color(0xFF484848),
        Color(0xFF505050),
        Color(0xFF585858),
        Color(0xFF606060),
        Color(0xFF686868),
        Color(0xFF707070),
        Color(0xFF787878),
        Color(0xFF808080),
        Color(0xFF20232A),
        Color(0xFF2C2F36),
        Color(0xFF393C43),
        Color(0xFF464951),
        Color(0xFF2A2C31),
        Color(0xFF33353B),
        Color(0xFF3D3F45),
        Color(0xFF46484E),
        Color(0xFF121212),
        Color(0xFF1C1C1C),
        Color(0xFF262626),
        Color(0xFF303030),
        Color(0xFF3A3A3A),
        Color(0xFF444444),
        Color(0xFF4E4E4E),
        Color(0xFF585858),
        Color(0xFF5E5E5E),
        Color(0xFF646464),
        Color(0xFF6A6A6A),
        Color(0xFF707070),
        Color(0xFF767676),
        Color(0xFF7C7C7C),
        Color(0xFF828282),
        Color(0xFF8C8C8C),
        Color(0xFF999999),
        Color(0xFFAAAAAA),
        Color(0xFFBBBBBB)
    )

    fun getColor(
        index: Int,
        darkColors: Boolean = false,
        excludedColors: List<Color> = emptyList()
    ): Color {

        val colors = if (darkColors) dark else light
        val palette = if (darkColors) darkPalette else lightPalette
        if (index < colors.size) {
            return colors[index]
        }

        while (colors.size <= index) {
            val nextColor = palette.firstOrNull { it !in colors } ?: generate(colors)
            colors.add(nextColor)
        }

        return colors[index]
    }

    private fun generate(colors: List<Color>): Color {
        var color: Color
        do {
            color = Color(
                Random.nextInt(0..255),
                Random.nextInt(0..255),
                Random.nextInt(0..255)
            )
        } while (color in colors)// || color in excludedColors)
        return color
    }
}